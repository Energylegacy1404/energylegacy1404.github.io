<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>Ù†Ù‚Ø´Ù‡ Ù…Ù†Ø§Ø¨Ø¹ Ø·Ø¨ÛŒØ¹ÛŒ - Ø§ÛŒØ±Ø§Ù†ØŒ Ø±ÙˆØ³ÛŒÙ‡ØŒ Ú†ÛŒÙ†ØŒ Ú©Ø§Ù†Ø§Ø¯Ø§</title>
    <meta name="keywords"
		content="Ø¢ØªØ´ Ø¯Ø± Ø³Ú©ÙˆØª ØŒ Ø³ÙˆØ®Øª ÙØ³ÛŒÙ„ÛŒ ØŒ Ù…Ø±Ø§Ø­Ù„ ØªØ´Ú©ÛŒÙ„ Ø³ÙˆØ®Øª ÙØ³ÛŒÙ„ÛŒ ØŒ Ù†ÙØª ØŒ Ø²ØºØ§Ù„ Ø³Ù†Ú¯ ØŒ Ú¯Ø§Ø² Ø·Ø¨ÛŒØ¹ÛŒ ØŒ ÙØ±Ø¢ÛŒÙ†Ø¯ Ø¯ÛŒØ§Ú˜Ù†Ø² ØŒ Ú©Ø±ÙˆÚ˜Ù† ØŒ Ø¯ÙÙ† Ø±Ø³ÙˆØ¨Ø§Øª
		Ø§Ù†Ø±Ú˜ÛŒ ØªØ¬Ø¯ÛŒØ¯Ù†Ø§Ù¾Ø°ÛŒØ± ØŒ Ø²Ù…Ø§Ù† Ø²Ù…ÛŒÙ† Ø´Ù†Ø§Ø³ÛŒ  ØŒ Ú†Ù†Ø¯ Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ø§ Ø²Ù…ÛŒÙ† ØŒ ÙØ´Ø§Ø± Ùˆ Ø¯Ù…Ø§ ØŒ Ø²ÛŒØ³Øª ØªÙˆØ¯Ù‡ ">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- ÙÙˆÙ†Øª ÙˆØ²ÛŒØ± Ø¨Ø±Ø§ÛŒ ÙØ§Ø±Ø³ÛŒ -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet" type="text/css" />
    
    <style>
        /* ========== Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ Ù†Ù‚Ø´Ù‡ ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Vazir', 'Tahoma', Arial, sans-serif;
            background: linear-gradient(135deg, #001ea3 0%, #02002f 100%);
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        h3{
            text-align: center;
            color: white;
         
            margin-bottom: 20px;
            font-size: clamp(1rem, 3vw, 1.5rem);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .map-wrapper {
            position: relative;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 20px;
            flex: 1;
        }
        
        .map-container {
            position: relative;
            width: 100%;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }
        
        #map {
            height: 600px;
            width: 100%;
            background: #a5d6f9;
            z-index: 1;
        }
        
        /* ========== Ù¾Ù†Ø¬Ø±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬Ø§Ù†Ø¨ÛŒ ========== */
        .info-sidebar {
            position: relative;
            width: 0;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
            height: 600px;
        }
        
        .info-sidebar.active {
            width: 350px;
            opacity: 1;
            visibility: visible;
            margin-right: 20px;
        }
        
        .info-content {
            position: relative;
            height: 100%;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 4px;
        }
        
        .info-inner {
            background: white;
            border-radius: 18px;
            padding: 25px;
            height: 100%;
            overflow-y: auto;
            position: relative;
        }
        
        /* Ø¯Ú©Ù…Ù‡ Ø¨Ø³ØªÙ† */
        .close-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(0,0,0,0.1);
            border: none;
            font-size: 18px;
            color: #666;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            z-index: 10;
        }
        
        .close-btn:hover {
            background: rgba(0,0,0,0.2);
            color: #333;
            transform: rotate(90deg);
        }
        
        /* Ù‡Ø¯Ø± Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø´ÙˆØ± */
        .country-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #f1c40f;
        }
        
        .country-flag {
            font-size: 48px;
            line-height: 1;
        }
        
        .country-title {
            flex: 1;
        }
        
        .country-title h2 {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .country-title .capital {
            font-size: 14px;
            color: #7f8c8d;
        }
        
        /* Ø±ØªØ¨Ù‡ Ø¬Ù‡Ø§Ù†ÛŒ */
        .world-rank {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 12px 18px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }
        
        .rank-icon {
            font-size: 28px;
        }
        
        .rank-text {
            flex: 1;
        }
        
        .rank-text strong {
            display: block;
            font-size: 18px;
            margin-bottom: 3px;
        }
        
        .rank-text span {
            font-size: 13px;
            opacity: 0.9;
        }
        
        /* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø§Ø¨Ø¹ */
        .resource-card {
            background: #f8f9fa;
            border-radius: 16px;
            padding: 18px;
            margin-bottom: 15px;
            border-right: 6px solid;
            transition: all 0.2s ease;
        }
        
        .resource-card:hover {
            transform: translateX(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .resource-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .resource-icon {
            font-size: 28px;
        }
        
        .resource-title h3 {
            font-size: 18px;
            color: #2c3e50;
            margin-bottom: 4px;
        }
        
        .resource-rank {
            font-size: 12px;
            color: #27ae60;
            background: rgba(39, 174, 96, 0.1);
            padding: 3px 10px;
            border-radius: 50px;
            display: inline-block;
        }
        
        .resource-details {
            padding-right: 40px;
        }
        
        .resource-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .resource-label {
            color: #7f8c8d;
        }
        
        .resource-value {
            font-weight: bold;
            color: #2c3e50;
        }
        
        /* Ù†Ú©Ø§Øª ÙˆÛŒÚ˜Ù‡ */
        .special-note {
            background: #fff9e6;
            border-radius: 12px;
            padding: 15px;
            margin-top: 20px;
            border: 1px dashed #f39c12;
            display: flex;
            gap: 12px;
            align-items: flex-start;
        }
        
        .note-icon {
            font-size: 24px;
        }
        
        .note-text {
            flex: 1;
            font-size: 13px;
            color: #7f8c8d;
            line-height: 1.6;
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø§Ø±Ú©Ø±Ù‡Ø§ÛŒ Ú©Ø´ÙˆØ±Ù‡Ø§ */
        .country-marker {
            position: absolute;
            padding: 6px 16px;
            border-radius: 50px;
            color: white;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.25);
            white-space: nowrap;
            z-index: 1000;
            border: 1.5px solid white;
            transition: all 0.3s ease;
            pointer-events: none;
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            transform: translate(-50%, -50%);
        }
        
        .country-marker:hover {
            transform: translate(-50%, -60%) scale(1.1);
            box-shadow: 0 8px 20px rgba(0,0,0,0.35);
        }
        
        .country-marker.iran {
            background: linear-gradient(45deg, #239f3f, #1e7a31);
            border-color: #fedd00;
        }
        
        .country-marker.russia {
            background: linear-gradient(45deg, #d52b1e, #9e1f15);
            border-color: #0039a6;
        }
        
        .country-marker.china {
            background: linear-gradient(45deg, #de2910, #b0200c);
            border-color: #ffde00;
        }
        
        .country-marker.canada {
            background: linear-gradient(45deg, #d52b1e, #a9201a);
            border-color: #ffffff;
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ù„Ø¬Ù†Ø¯ */
        .legend {
            position: absolute;
            bottom: 15px;
            left: 15px;
            background: rgba(255, 255, 255, 0.97);
            padding: 12px 18px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            z-index: 1001;
            backdrop-filter: blur(8px);
            max-width: 250px;
            width: auto;
            border: 1px solid rgba(255,255,255,0.4);
            font-size: 12px;
        }
        
        .legend h3 {
            margin-bottom: 8px;
            color: #333;
            font-size: 14px;
            text-align: center;
            font-weight: bold;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 6px;
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0,0,0,0.01);
        }
        
        .color-box {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            margin-left: 8px;
            border: 1.5px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .iran-box { background: linear-gradient(45deg, #239f3f, #fedd00, #d52b1e); }
        .russia-box { background: linear-gradient(45deg, #d52b1e, #0039a6); }
        .china-box { background: linear-gradient(45deg, #de2910, #ffde00); }
        .canada-box { background: linear-gradient(45deg, #d52b1e, #ffffff); }
        
        .coordinates {
            font-size: 10px;
            color: #666;
            margin-right: 6px;
            direction: ltr;
            font-family: monospace;
        }
        
        .country-name {
            font-weight: bold;
            font-size: 12px;
        }
        
        /* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ */
        .map-controls {
            position: absolute;
            top: 15px;
            right: 15px;
            z-index: 1001;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 50px;
            background: white;
            color: #333;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            font-size: 12px;
            border: 1px solid rgba(255,255,255,0.6);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(0,0,0,0.2);
            background: #f8f8f8;
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ */
        @media (max-width: 992px) {
            .map-wrapper {
                flex-direction: column;
            }
            
            .info-sidebar.active {
                width: 100%;
                margin-right: 0;
                margin-top: 20px;
                height: 500px;
            }
            
            #map, .info-sidebar {
                height: 500px;
            }
        }
        
        @media (max-width: 768px) {
            body { padding: 10px; }
            #map { height: 450px; }
            .info-sidebar.active { height: 450px; }
            .country-marker { padding: 4px 12px; font-size: 11px; }
            .btn { padding: 6px 12px; font-size: 11px; }
        }
        
        @media (max-width: 480px) {
            #map { height: 350px; }
            .info-sidebar.active { height: 450px; }
            .country-marker { padding: 3px 10px; font-size: 10px; }
            .btn { padding: 5px 10px; font-size: 10px; }
            .country-flag { font-size: 36px; }
            .country-title h2 { font-size: 20px; }
        }
        
        footer {
            text-align: center;
            color: white;
            margin-top: 20px;
            opacity: 0.9;
            font-size: 13px;
        }
        
        /* Ø§Ø³Ú©Ø±ÙˆÙ„ Ø²ÛŒØ¨Ø§ */
        .info-inner::-webkit-scrollbar {
            width: 6px;
        }
        
        .info-inner::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .info-inner::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 10px;
        }
        
        .info-inner::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        .box-map-h3{
            display: flex;
            flex-direction: row-reverse;
            justify-content:space-around;
            align-items: center;
            width:100%;
        }
        .img3{
            width:25px;
        }
        .box-map-h3 a img {
            width: 32px;                      /* Ø§Ù†Ø¯Ø§Ø²Ù‡ Ø¢ÛŒÚ©ÙˆÙ†ÛŒ â€“ Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÛŒ ØªØºÛŒÛŒØ± Ø¨Ø¯Ù‡ */
            transition: transform 0.2s ease;
        }
        
        /* Ø¯Ø³Ú©ØªØ§Ù¾ */
        .box-map-h3 a img:hover {
            transform: scale(1.15);
        }
        
        /* Ú¯ÙˆØ´ÛŒ */
        .box-map-h3 a img:active {
            transform: scale(1.15);
        }
    </style>
</head>
<body>
    <div class="box-map-h3">
        <a href="index.html"><img src="assets/img/arrow left-64(1).png" alt="" class="img3"></a>
        <h3>ğŸ—º Ù…Ù†Ø§Ø¨Ø¹ Ø·Ø¨ÛŒØ¹ÛŒ Ú©Ø´ÙˆØ±Ù‡Ø§ (Ù†ÙØªØŒ Ú¯Ø§Ø²ØŒ Ø²ØºØ§Ù„ Ø³Ù†Ú¯)</h3>
    </div>
   
    
    <div class="map-wrapper">
        <!-- Ø¨Ø®Ø´ Ù†Ù‚Ø´Ù‡ -->
        <div class="map-container">
            <div id="map"></div>
            
            <!-- Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ú©Ø´ÙˆØ±Ù‡Ø§ -->
            <div id="iran-marker" class="country-marker iran" style="display: none;">ğŸ‡®ğŸ‡· Ø§ÛŒØ±Ø§Ù†</div>
            <div id="russia-marker" class="country-marker russia" style="display: none;">ğŸ‡·ğŸ‡º Ø±ÙˆØ³ÛŒÙ‡</div>
            <div id="china-marker" class="country-marker china" style="display: none;">ğŸ‡¨ğŸ‡³ Ú†ÛŒÙ†</div>
            <div id="canada-marker" class="country-marker canada" style="display: none;">ğŸ‡¨ğŸ‡¦ Ú©Ø§Ù†Ø§Ø¯Ø§</div>
            
            <!-- Ø±Ø§Ù‡Ù†Ù…Ø§ -->
            <div class="legend">
                <h3>ğŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª Ú©Ø´ÙˆØ±Ù‡Ø§</h3>
                <div class="legend-item">
                    <div class="color-box iran-box"></div>
                    <span class="country-name">Ø§ÛŒØ±Ø§Ù†</span>
                    <span class="coordinates">(35.68Â°, 51.38Â°)</span>
                </div>
                <div class="legend-item">
                    <div class="color-box russia-box"></div>
                    <span class="country-name">Ø±ÙˆØ³ÛŒÙ‡</span>
                    <span class="coordinates">(55.75Â°, 37.61Â°)</span>
                </div>
                <div class="legend-item">
                    <div class="color-box china-box"></div>
                    <span class="country-name">Ú†ÛŒÙ†</span>
                    <span class="coordinates">(39.90Â°, 116.40Â°)</span>
                </div>
                <div class="legend-item">
                    <div class="color-box canada-box"></div>
                    <span class="country-name">Ú©Ø§Ù†Ø§Ø¯Ø§</span>
                    <span class="coordinates">(45.42Â°, -75.69Â°)</span>
                </div>
            </div>
            
            <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ -->
            <div class="map-controls">
                <button class="btn" onclick="showAllCountries()">ğŸŒ Ù‡Ù…Ù‡</button>
                <button class="btn" onclick="zoomToCountry('iran')">ğŸ‡®ğŸ‡·</button>
                <button class="btn" onclick="zoomToCountry('russia')">ğŸ‡·ğŸ‡º</button>
                <button class="btn" onclick="zoomToCountry('china')">ğŸ‡¨ğŸ‡³</button>
                <button class="btn" onclick="zoomToCountry('canada')">ğŸ‡¨ğŸ‡¦</button>
            </div>
        </div>
        
        <!-- Ù¾Ù†Ø¬Ø±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬Ø§Ù†Ø¨ÛŒ (Ù…Ø®ÙÛŒ Ø¯Ø± Ø­Ø§Ù„Øª Ø¹Ø§Ø¯ÛŒ) -->
        <div id="infoSidebar" class="info-sidebar">
            <div class="info-content">
                <div class="info-inner" id="infoContent">
                    <!-- Ù…Ø­ØªÙˆØ§ Ø¨Ø§ Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù¾Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        ğŸ‘† Ø±ÙˆÛŒ Ù‡Ø± Ú©Ø´ÙˆØ± Ú©Ù„ÛŒÚ© Ú©Ù† | Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ù‡â€ŒØ±ÙˆØ² Û²Û°Û²Ûµ   
    </footer>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        // ========== Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ù‚ÛŒÙ‚ Ú©Ø´ÙˆØ±Ù‡Ø§ ==========
        const countries = {
            iran: {
                id: 'iran',
                name: 'Ø§ÛŒØ±Ø§Ù†',
                lat: 35.6892,
                lng: 51.3890,
                element: 'iran-marker',
                flag: 'ğŸ‡®ğŸ‡·',
                capital: 'ØªÙ‡Ø±Ø§Ù†',
                resources: {
                    totalValue: 'Û²Û·.Û³ ØªØ±ÛŒÙ„ÛŒÙˆÙ† Ø¯Ù„Ø§Ø±',
                    worldRank: 'Ù¾Ù†Ø¬Ù… Ø¬Ù‡Ø§Ù† Ø¯Ø± Ø§Ø±Ø²Ø´ Ú©Ù„ Ù…Ù†Ø§Ø¨Ø¹ Ø·Ø¨ÛŒØ¹ÛŒ',
                    oil: {
                        reserves: 'Û±ÛµÛ¸.Û· Ù…ÛŒÙ„ÛŒØ§Ø±Ø¯ Ø¨Ø´Ú©Ù‡',
                        rank: 'Ø±ØªØ¨Ù‡ Ø³ÙˆÙ… Ø¬Ù‡Ø§Ù†',
                        share: 'Û¹Ùª Ø°Ø®Ø§ÛŒØ± Ø§Ø«Ø¨Ø§Øª Ø´Ø¯Ù‡ Ø¬Ù‡Ø§Ù†'
                    },
                    gas: {
                        reserves: 'Û±,Û²Û°Û° ØªØ±ÛŒÙ„ÛŒÙˆÙ† ÙÙˆØª Ù…Ú©Ø¹Ø¨',
                        rank: 'Ø±ØªØ¨Ù‡ Ø¯ÙˆÙ… Ø¬Ù‡Ø§Ù†',
                        share: 'Û±Û¶-Û±Û¸Ùª Ø°Ø®Ø§ÛŒØ± Ø§Ø«Ø¨Ø§Øª Ø´Ø¯Ù‡ Ø¬Ù‡Ø§Ù†'
                    },
                    coal: {
                        reserves: 'Ø¨ÛŒØ´ Ø§Ø² Û± Ù…ÛŒÙ„ÛŒØ§Ø±Ø¯ ØªÙ†',
                        rank: 'Ø§Ø² Ù†Ø¸Ø± ØªÙ†ÙˆØ¹ Ù…Ø¹Ø¯Ù†ÛŒ Ø¬Ø²Ùˆ Û±Ûµ Ú©Ø´ÙˆØ± Ø¨Ø±ØªØ±',
                        details: 'Ø²ØºØ§Ù„ Ø³Ù†Ú¯ØŒ Ù…Ø³ØŒ Ø¢Ù‡Ù†ØŒ Ø±ÙˆÛŒØŒ Ø³Ø±Ø¨ØŒ Ú©Ø±ÙˆÙ…'
                    },
                    note: 'Û·Ùª Ø°Ø®Ø§ÛŒØ± Ù…Ø¹Ø¯Ù†ÛŒ Ø¬Ù‡Ø§Ù† | Ø¨Ø²Ø±Ú¯ØªØ±ÛŒÙ† Ù…Ø¹Ø¯Ù†: Ù…Ø³ Ø³Ø±Ú†Ø´Ù…Ù‡'
                }
            },
            russia: {
                id: 'russia',
                name: 'Ø±ÙˆØ³ÛŒÙ‡',
                lat: 55.7558,
                lng: 37.6173,
                element: 'russia-marker',
                flag: 'ğŸ‡·ğŸ‡º',
                capital: 'Ù…Ø³Ú©Ùˆ',
                resources: {
                    totalValue: 'Û·Ûµ ØªØ±ÛŒÙ„ÛŒÙˆÙ† Ø¯Ù„Ø§Ø±',
                    worldRank: 'Ø§ÙˆÙ„ Ø¬Ù‡Ø§Ù† Ø¯Ø± Ø§Ø±Ø²Ø´ Ú©Ù„ Ù…Ù†Ø§Ø¨Ø¹ Ø·Ø¨ÛŒØ¹ÛŒ',
                    oil: {
                        reserves: 'Û±Û°Û·.Û¸ Ù…ÛŒÙ„ÛŒØ§Ø±Ø¯ Ø¨Ø´Ú©Ù‡',
                        rank: 'Ø±ØªØ¨Ù‡ Ø´Ø´Ù… Ø¬Ù‡Ø§Ù†',
                        share: 'Û±Û²Ùª Ø¹Ø±Ø¶Ù‡ Ø¬Ù‡Ø§Ù†ÛŒ Ù†ÙØª'
                    },
                    gas: {
                        reserves: 'Û±,Û¶Û¸Û¸ ØªØ±ÛŒÙ„ÛŒÙˆÙ† ÙÙˆØª Ù…Ú©Ø¹Ø¨',
                        rank: 'Ø±ØªØ¨Ù‡ Ø§ÙˆÙ„ Ø¬Ù‡Ø§Ù†',
                        share: 'Û²Û°Ùª Ø°Ø®Ø§ÛŒØ± Ø§Ø«Ø¨Ø§Øª Ø´Ø¯Ù‡ Ø¬Ù‡Ø§Ù†'
                    },
                    coal: {
                        reserves: 'Ø¨Ø²Ø±Ú¯ØªØ±ÛŒÙ† Ø°Ø®Ø§ÛŒØ± Ø²ØºØ§Ù„ Ø³Ù†Ú¯',
                        rank: 'Ø¯ÙˆÙ…ÛŒÙ† ØªÙˆÙ„ÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ø¨Ø²Ø±Ú¯',
                        details: 'Ù‡Ù…Ú†Ù†ÛŒÙ† Ø§Ù„Ù…Ø§Ø³ØŒ Ø·Ù„Ø§ØŒ Ù†ÛŒÚ©Ù„ØŒ Ù¾Ù„Ø§ØªÛŒÙ†'
                    },
                    note: 'Û²Û°Ùª Ú†ÙˆØ¨ Ø¬Ù‡Ø§Ù† | Ø¯ÙˆÙ…ÛŒÙ† Ø°Ø®Ø§ÛŒØ± Ø·Ù„Ø§'
                }
            },
            china: {
                id: 'china',
                name: 'Ú†ÛŒÙ†',
                lat: 39.9042,
                lng: 116.4074,
                element: 'china-marker',
                flag: 'ğŸ‡¨ğŸ‡³',
                capital: 'Ù¾Ú©Ù†',
                resources: {
                    totalValue: 'Û²Û³ ØªØ±ÛŒÙ„ÛŒÙˆÙ† Ø¯Ù„Ø§Ø±',
                    worldRank: 'Ø´Ø´Ù… Ø¬Ù‡Ø§Ù† Ø¯Ø± Ø§Ø±Ø²Ø´ Ú©Ù„ Ù…Ù†Ø§Ø¨Ø¹ Ø·Ø¨ÛŒØ¹ÛŒ',
                    oil: {
                        reserves: 'Û²Ûµ.Û¶ Ù…ÛŒÙ„ÛŒØ§Ø±Ø¯ Ø¨Ø´Ú©Ù‡',
                        rank: 'Ø°Ø®Ø§ÛŒØ± Ù‚Ø§Ø¨Ù„ ØªÙˆØ¬Ù‡',
                        share: 'Û².Û±Ùª Ø°Ø®Ø§ÛŒØ± Ø¬Ù‡Ø§Ù†'
                    },
                    gas: {
                        reserves: 'Û²Û¶Ûµ ØªØ±ÛŒÙ„ÛŒÙˆÙ† ÙÙˆØª Ù…Ú©Ø¹Ø¨',
                        rank: 'Ø±ØªØ¨Ù‡ Ù‡Ø´ØªÙ… Ø¬Ù‡Ø§Ù†',
                        share: 'Û´.ÛµÙª Ø°Ø®Ø§ÛŒØ± Ø¬Ù‡Ø§Ù†'
                    },
                    coal: {
                        reserves: 'Ø¨Ø²Ø±Ú¯ØªØ±ÛŒÙ† ØªÙˆÙ„ÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ø²ØºØ§Ù„ Ø³Ù†Ú¯ Ø¬Ù‡Ø§Ù†',
                        rank: 'Ø±ØªØ¨Ù‡ Ø§ÙˆÙ„ ØªÙˆÙ„ÛŒØ¯',
                        details: 'Û¹Û°Ùª Ù…Ù†Ø§Ø¨Ø¹: Ø²ØºØ§Ù„ Ø³Ù†Ú¯ Ùˆ ÙÙ„Ø²Ø§Øª Ú©Ù…ÛŒØ§Ø¨'
                    },
                    note: 'Ø§ÙˆÙ„ÛŒÙ† ØªÙˆÙ„ÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ù…ÙˆØ§Ø¯ Ù…Ø¹Ø¯Ù†ÛŒ Ø¬Ù‡Ø§Ù† | Ø³ÙˆÙ…ÛŒÙ† ØªÙˆÙ„ÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ø³Ù†Ú¯ Ø¢Ù‡Ù†'
                }
            },
            canada: {
                id: 'canada',
                name: 'Ú©Ø§Ù†Ø§Ø¯Ø§',
                lat: 45.4215,
                lng: -75.6972,
                element: 'canada-marker',
                flag: 'ğŸ‡¨ğŸ‡¦',
                capital: 'Ø§ØªØ§ÙˆØ§',
                resources: {
                    totalValue: 'Û³Û³.Û² ØªØ±ÛŒÙ„ÛŒÙˆÙ† Ø¯Ù„Ø§Ø±',
                    worldRank: 'Ú†Ù‡Ø§Ø±Ù… Ø¬Ù‡Ø§Ù† Ø¯Ø± Ø§Ø±Ø²Ø´ Ú©Ù„ Ù…Ù†Ø§Ø¨Ø¹ Ø·Ø¨ÛŒØ¹ÛŒ',
                    oil: {
                        reserves: 'Û±Û·Û¸.Û± Ù…ÛŒÙ„ÛŒØ§Ø±Ø¯ Ø¨Ø´Ú©Ù‡',
                        rank: 'Ø±ØªØ¨Ù‡ Ø³ÙˆÙ… Ø¬Ù‡Ø§Ù†',
                        share: 'Û±Û·.Û¸Ùª Ø°Ø®Ø§ÛŒØ± Ø§Ø«Ø¨Ø§Øª Ø´Ø¯Ù‡ Ø¬Ù‡Ø§Ù†'
                    },
                    gas: {
                        reserves: 'Ø¨ÛŒØ´ Ø§Ø² Û·Û° ØªØ±ÛŒÙ„ÛŒÙˆÙ† ÙÙˆØª Ù…Ú©Ø¹Ø¨',
                        rank: 'ØªÙˆÙ„ÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ø¨Ø²Ø±Ú¯',
                        share: 'Û´.Û±Ùª Ø°Ø®Ø§ÛŒØ± Ø¬Ù‡Ø§Ù†'
                    },
                    coal: {
                        reserves: 'Ø°Ø®Ø§ÛŒØ± Ø¹Ø¸ÛŒÙ… Ø²ØºØ§Ù„ Ø³Ù†Ú¯',
                        rank: 'Ù¾Ù†Ø¬Ù…ÛŒÙ† ØªÙˆÙ„ÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ø¨Ø²Ø±Ú¯',
                        details: 'Ø§ÙˆØ±Ø§Ù†ÛŒÙˆÙ…ØŒ Ù¾ØªØ§Ø³ØŒ Ù…Ø³ØŒ Ù†ÛŒÚ©Ù„ØŒ Ø·Ù„Ø§'
                    },
                    note: 'Ø¯ÙˆÙ…ÛŒÙ† Ø°Ø®Ø§ÛŒØ± Ø¨Ø²Ø±Ú¯ Ø§ÙˆØ±Ø§Ù†ÛŒÙˆÙ… | Ø³ÙˆÙ…ÛŒÙ† ØªÙˆÙ„ÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ú†ÙˆØ¨'
                }
            }
        };

        // ========== Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù‚Ø´Ù‡ ==========
        const map = L.map('map', {
            center: [30, 30],
            zoom: 2,
            zoomControl: true,
            fadeAnimation: true,
            zoomAnimation: true
        });

        // ========== Ù„Ø§ÛŒÙ‡ Ù†Ù‚Ø´Ù‡ ==========
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© OpenStreetMap',
            maxZoom: 19,
            minZoom: 2
        }).addTo(map);

        // ========== ØªÙˆØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´/Ø¨Ø³ØªÙ† Ù¾Ù†Ø¬Ø±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ==========
        function openInfoPanel(countryId) {
            const country = countries[countryId];
            if (!country) return;
            
            const sidebar = document.getElementById('infoSidebar');
            const infoContent = document.getElementById('infoContent');
            
            // Ø³Ø§Ø®Øª Ù…Ø­ØªÙˆØ§ÛŒ HTML
            infoContent.innerHTML = `
                <button class="close-btn" onclick="closeInfoPanel()">âœ•</button>
                
                <div class="country-header">
                    <div class="country-flag">${country.flag}</div>
                    <div class="country-title">
                        <h2>${country.name}</h2>
                        <div class="capital">ğŸ›ï¸ Ù¾Ø§ÛŒØªØ®Øª: ${country.capital}</div>
                    </div>
                </div>
                
                <div class="world-rank">
                    <div class="rank-icon">ğŸ†</div>
                    <div class="rank-text">
                        <strong>${country.resources.worldRank}</strong>
                        <span>Ø§Ø±Ø²Ø´ Ú©Ù„: ${country.resources.totalValue}</span>
                    </div>
                </div>
                
                <div class="resource-card" style="border-right-color: #e67e22;">
                    <div class="resource-header">
                        <div class="resource-icon">ğŸ›¢ï¸</div>
                        <div class="resource-title">
                            <h3>Ù†ÙØª Ø®Ø§Ù…</h3>
                            <span class="resource-rank">${country.resources.oil.rank}</span>
                        </div>
                    </div>
                    <div class="resource-details">
                        <div class="resource-item">
                            <span class="resource-label">Ø°Ø®Ø§ÛŒØ± Ø§Ø«Ø¨Ø§Øª Ø´Ø¯Ù‡:</span>
                            <span class="resource-value">${country.resources.oil.reserves}</span>
                        </div>
                        <div class="resource-item">
                            <span class="resource-label">Ø³Ù‡Ù… Ø§Ø² Ø°Ø®Ø§ÛŒØ± Ø¬Ù‡Ø§Ù†:</span>
                            <span class="resource-value">${country.resources.oil.share || 'Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª'}</span>
                        </div>
                    </div>
                </div>
                
                <div class="resource-card" style="border-right-color: #3498db;">
                    <div class="resource-header">
                        <div class="resource-icon">ğŸ”¥</div>
                        <div class="resource-title">
                            <h3>Ú¯Ø§Ø² Ø·Ø¨ÛŒØ¹ÛŒ</h3>
                            <span class="resource-rank">${country.resources.gas.rank}</span>
                        </div>
                    </div>
                    <div class="resource-details">
                        <div class="resource-item">
                            <span class="resource-label">Ø°Ø®Ø§ÛŒØ± Ø§Ø«Ø¨Ø§Øª Ø´Ø¯Ù‡:</span>
                            <span class="resource-value">${country.resources.gas.reserves}</span>
                        </div>
                        <div class="resource-item">
                            <span class="resource-label">Ø³Ù‡Ù… Ø§Ø² Ø°Ø®Ø§ÛŒØ± Ø¬Ù‡Ø§Ù†:</span>
                            <span class="resource-value">${country.resources.gas.share || 'Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª'}</span>
                        </div>
                    </div>
                </div>
                
                <div class="resource-card" style="border-right-color: #2c3e50;">
                    <div class="resource-header">
                        <div class="resource-icon">â›ï¸</div>
                        <div class="resource-title">
                            <h3>Ø²ØºØ§Ù„ Ø³Ù†Ú¯</h3>
                            <span class="resource-rank">${country.resources.coal.rank}</span>
                        </div>
                    </div>
                    <div class="resource-details">
                        <div class="resource-item">
                            <span class="resource-label">Ø°Ø®Ø§ÛŒØ±/ØªÙˆÙ„ÛŒØ¯:</span>
                            <span class="resource-value">${country.resources.coal.reserves || country.resources.coal.details}</span>
                        </div>
                        <div class="resource-item">
                            <span class="resource-label">Ù…Ù†Ø§Ø¨Ø¹ Ø¯ÛŒÚ¯Ø±:</span>
                            <span class="resource-value">${country.resources.coal.details || 'Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª'}</span>
                        </div>
                    </div>
                </div>
                
                <div class="special-note">
                    <div class="note-icon">ğŸ“Œ</div>
                    <div class="note-text">
                        <strong>Ù†Ú©Ø§Øª ÙˆÛŒÚ˜Ù‡:</strong><br>
                        ${country.resources.note}
                    </div>
                </div>
            `;
            
            // Ù†Ù…Ø§ÛŒØ´ Ù¾Ù†Ø¬Ø±Ù‡
            sidebar.classList.add('active');
        }
        
        window.closeInfoPanel = function() {
            const sidebar = document.getElementById('infoSidebar');
            sidebar.classList.remove('active');
        };

        // ========== Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø§Ø±Ú©Ø±Ù‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ Ú©Ù„ÛŒÚ© ==========
        Object.keys(countries).forEach(countryId => {
            const country = countries[countryId];
            
            // Ù…Ø§Ø±Ú©Ø± Ø´ÙØ§Ù Ø¨Ø±Ø§ÛŒ Ú©Ù„ÛŒÚ©
            const marker = L.marker([country.lat, country.lng], {
                opacity: 0.01,
                interactive: true,
                zIndexOffset: 1000
            }).addTo(map);
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ©
            marker.on('click', function() {
                openInfoPanel(countryId);
            });
            
            // ØªÙˆÙ¾â€ŒØªÛŒÙ¾
            marker.bindTooltip(`${country.flag} ${country.name}`, {
                permanent: false,
                direction: 'top',
                offset: [0, -20]
            });
        });

        // ========== ØªØ§Ø¨Ø¹ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ ==========
        function updateMarkers() {
            Object.keys(countries).forEach(countryId => {
                const country = countries[countryId];
                const markerElement = document.getElementById(country.element);
                
                if (!markerElement) return;
                
                const point = map.latLngToContainerPoint(
                    L.latLng(country.lat, country.lng)
                );
                
                markerElement.style.display = 'block';
                markerElement.style.position = 'absolute';
                markerElement.style.left = point.x + 'px';
                markerElement.style.top = point.y + 'px';
                markerElement.style.transform = 'translate(-50%, -50%)';
                
                const isMobile = window.innerWidth <= 768;
                const isVerySmall = window.innerWidth <= 480;
                
                if (isVerySmall) {
                    markerElement.innerHTML = `${country.flag}`;
                } else {
                    markerElement.innerHTML = `${country.flag} ${country.name}`;
                }
            });
        }

        // ========== Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù†Ù‚Ø´Ù‡ ==========
        map.on('moveend', updateMarkers);
        map.on('zoomend', updateMarkers);
        map.on('resize', function() {
            setTimeout(updateMarkers, 50);
        });

        window.addEventListener('resize', function() {
            map.invalidateSize();
            setTimeout(updateMarkers, 50);
        });

        window.addEventListener('load', function() {
            setTimeout(updateMarkers, 100);
        });

        // ========== ØªÙˆØ§Ø¨Ø¹ Ø¹Ù…ÙˆÙ…ÛŒ ==========
        window.showAllCountries = function() {
            const bounds = L.latLngBounds([
                [countries.iran.lat, countries.iran.lng],
                [countries.russia.lat, countries.russia.lng],
                [countries.china.lat, countries.china.lng],
                [countries.canada.lat, countries.canada.lng]
            ]);
            
            map.fitBounds(bounds, {
                padding: [40, 40],
                maxZoom: 4,
                animate: true,
                duration: 1
            });
            
            // Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ÛŒØ±Ø§Ù†
            setTimeout(() => {
                openInfoPanel('iran');
            }, 500);
        };

        window.zoomToCountry = function(countryId) {
            const country = countries[countryId];
            if (!country) return;
            
            map.flyTo([country.lat, country.lng], 5, {
                animate: true,
                duration: 1.2
            });
            
            // Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø´ÙˆØ±
            setTimeout(() => {
                openInfoPanel(countryId);
            }, 400);
        };

        // ========== Ø´Ø±ÙˆØ¹ Ú©Ø§Ø± ==========
        setTimeout(() => {
            updateMarkers();
            window.showAllCountries();  // Ù†Ù…Ø§ÛŒØ´ Ø§ÛŒØ±Ø§Ù† Ø¯Ø± Ø´Ø±ÙˆØ¹
        }, 200);
    </script>
</body>
</html>